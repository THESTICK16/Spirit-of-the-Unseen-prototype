[gd_scene load_steps=6 format=2]

[ext_resource path="res://Assets/Fonts/Inconsolata/static/Inconsolata/Inconsolata-Regular.ttf" type="DynamicFontData" id=1]
[ext_resource path="res://UI/MainMenu/MenuButton.tscn" type="PackedScene" id=2]

[sub_resource type="GDScript" id=3]
script/source = "extends CanvasLayer

onready var new_game_button = $MainMenu/VBoxContainer/HBoxContainer/Buttons/NewGameMenuButton
onready var buttons = $MainMenu/VBoxContainer/HBoxContainer/Buttons.get_children()

func _ready():
	new_game_button.grab_focus()
	for button in buttons:
		button.connect(\"pressed\", self, \"button_pressed\", [button.path_to_scene_to_load])
	
func button_pressed(next_scene_path : String):
	#This is being called for every button when 'a' is pressed as set in the shortcut but not for UI accept. Find out why
	var eat_the_error = get_tree().change_scene(next_scene_path) #FIXME implement the pseudo code below with a transition scene
#	var next_scene = load(next_scene_path)
# while loading this scene, play the transition effect
# Better yet, load the new scene in the transition scene
	
"

[sub_resource type="DynamicFont" id=1]
size = 62
outline_size = 2
outline_color = Color( 0.505882, 0.105882, 0.105882, 0.458824 )
extra_spacing_char = 3
extra_spacing_space = -16
font_data = ExtResource( 1 )

[sub_resource type="DynamicFont" id=2]
size = 18
font_data = ExtResource( 1 )

[node name="MainMenu" type="CanvasLayer"]
script = SubResource( 3 )

[node name="MainMenu" type="Control" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Background" type="ColorRect" parent="MainMenu"]
anchor_right = 1.0
anchor_bottom = 1.0
color = Color( 0.0196078, 0, 0.32549, 1 )

[node name="VBoxContainer" type="VBoxContainer" parent="MainMenu"]
anchor_right = 1.0
anchor_bottom = 1.0
alignment = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="LogoLabel" type="Label" parent="MainMenu/VBoxContainer"]
margin_top = 55.0
margin_right = 1024.0
margin_bottom = 187.0
rect_min_size = Vector2( 924, 90 )
custom_colors/font_color = Color( 0.772549, 0.764706, 0.137255, 1 )
custom_colors/font_color_shadow = Color( 0.145098, 0, 0.470588, 1 )
custom_constants/shadow_offset_x = -8
custom_constants/line_spacing = 0
custom_constants/shadow_offset_y = 8
custom_constants/shadow_as_outline = 0
custom_fonts/font = SubResource( 1 )
text = "Spirit of the Unseen
 Demo"
align = 1
valign = 1
__meta__ = {
"_editor_description_": "Make a TextureRect once a logo has been created and add here"
}

[node name="HBoxContainer" type="HBoxContainer" parent="MainMenu/VBoxContainer"]
margin_top = 191.0
margin_right = 1024.0
margin_bottom = 491.0
rect_min_size = Vector2( 924, 300 )
size_flags_horizontal = 3

[node name="Buttons" type="VBoxContainer" parent="MainMenu/VBoxContainer/HBoxContainer"]
margin_right = 1024.0
margin_bottom = 300.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="NewGameMenuButton" parent="MainMenu/VBoxContainer/HBoxContainer/Buttons" instance=ExtResource( 2 )]
margin_right = 1024.0
margin_bottom = 97.0
text = "New Game"
path_to_scene_to_load = "res://TestResources/TestRoom.tscn"

[node name="ContinueMenuButton" parent="MainMenu/VBoxContainer/HBoxContainer/Buttons" instance=ExtResource( 2 )]
margin_top = 101.0
margin_right = 1024.0
margin_bottom = 198.0
text = "Continue"

[node name="OptionsMenuButton" parent="MainMenu/VBoxContainer/HBoxContainer/Buttons" instance=ExtResource( 2 )]
margin_top = 202.0
margin_right = 1024.0
text = "Options"

[node name="VersionLabel" type="Label" parent="MainMenu/VBoxContainer"]
margin_top = 495.0
margin_right = 1024.0
margin_bottom = 545.0
rect_min_size = Vector2( 300, 50 )
custom_fonts/font = SubResource( 2 )
text = "Version: 0.0"
align = 1
valign = 1
